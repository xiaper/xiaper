var webutils = {};
$.fn.clicktoggle = function(a, b) {
    return this.each(function() {
        var c = !1;
        $(this).click(function() {
            return c ? (c = !1, b.apply(this, arguments)) : (c = !0, a.apply(this, arguments))
        })
    })
},
    function(a) {
        function b(a, c) {
            var d = a.properties;
            if (d.length > 1 && !a.boolean) throw "boolean property must be specified if there is more than one property: " + d;
            var e = [];
            return d.forEach(function(a) {
                var d;
                if (a.conditions) d = b(a.conditions, c);
                else {
                    var f = c[a.propertyName],
                        g = a.value;
                    switch (a.operator) {
                        case "gte":
                            d = f >= g;
                            break;
                        case "gt":
                            d = f > g;
                            break;
                        case "lte":
                            d = f <= g;
                            break;
                        case "lt":
                            d = f < g;
                            break;
                        case "eq":
                            d = f === g;
                            break;
                        default:
                            throw "Invalid operator for property"
                    }
                }
                e.push(d)
            }),
                "and" === a.boolean ? e.reduce(function(a, b) {
                    return a && b
                }) : "or" === a.boolean ? e.reduce(function(a, b) {
                    return a || b
                }) : e.pop()
        }
        function c(a) {
            if (a) {
                var b = q.filter(function(b) {
                    return b.offer === a
                });
                return b.length || console.error("Offer config was not found"),
                    b[0]
            }
        }
        function d(a) {
            return a.replace(/\/(\?.+)?$/, "")
        }
        function e(a) {
            var b = a.exclusions;
            if (b && b.length) {
                var c = d(window.location.pathname);
                if (b.indexOf(c) !== -1) return ! 0
            }
            return ! 1
        }
        function f(a) {
            var b = a.inclusions;
            if (b && b.length) {
                var c = d(window.location.pathname);
                return b.indexOf(c) !== -1
            }
            return ! 0
        }
        function g(a, b) {
            var d = c(a);
            d && (b.load(h(d.widgetUrl), webutils.handleGdprRequirements), webutils.track({
                siteCategory: "ProactiveOffer" + a,
                eventName: "Impression"
            }))
        }
        function h(b) {
            var c = a("html").attr("lang");
            if (!c || 0 !== b.indexOf("/")) return b;
            var d = k(c.toLowerCase());
            if (d.indexOf("/") === -1) return b;
            var e = d.replace(/\.([^\/]+)\//g, "/");
            return e + b
        }
        function j(a) {
            var b = a.toLowerCase();
            return webutils.countryToDomainMap[b]
        }
        function k(a) {
            var b = a.toLowerCase(),
                c = webutils.languageToDomainMap[b];
            return c || (a = a.split("-").shift(), c = "es" === a ? ".com.mx": webutils.languageToDomainMap[a]),
                c
        }
        var l, m, n;
        m = ["support", "help"],
            n = [],
            webutils.homeKey = "homeType",
            webutils.homeTypes = {
                standard: "/standardhome",
                enterprise: "/enterprisehome",
                customer: "/customerhome",
                enterprisecustomer: "/enterprisecustomerhome",
                trial: "/trialhome"
            },
            webutils.enterpriseEmployeeCount = 1e3,
            window.optimizely = window.optimizely || [],
            window.analytics = window.analytics || [],
            webutils.appUri = "",
        window.location.host.match("en.zd") && (webutils.appUri = "//www.zd.com"),
            webutils.appUrl = function(a) {
                return webutils.appUri + "/app/" + a
            },
            webutils._identifyUserId = function() {
                return webutils._timeout(new Promise(function(b, c) {
                    return webutils.getSubdomainInfo().then(function(c) {
                        analytics.ready(function() {
                            var d, e = {},
                                f = analytics.user().anonymousId(),
                                g = {
                                    anonymousId: f
                                };
                            c && c.length > 0 && c[0].user_id && (d = c[0].user_id, analytics.identify(d, e, g,
                                function() {
                                    webutils.track({
                                        siteCategory: "Identify",
                                        eventName: "LocalStorageSessionCookie",
                                        value: {
                                            sessionCookies: c
                                        }
                                    })
                                })),
                                a.ajax({
                                    url: webutils.appUrl("identify"),
                                    type: "POST",
                                    dataType: "json",
                                    data: {
                                        userId: d,
                                        anonymousId: g.anonymousId
                                    }
                                }),
                                b()
                        })
                    })
                }), 2e3)
            },
            webutils.getLeadProperties = function() {
                return new Promise(function(a, b) {
                    a({})
                })
            },
            webutils._identifyLeadProperties = function() {
                return webutils._timeout(new Promise(function(a, b) {
                    webutils.getLeadProperties().then(function(c) {
                        if (!c) return a();
                        var d = {};
                        analytics.ready(function() {
                            try {
                                analytics.identify(c, d, a)
                            } catch(a) {
                                b(a)
                            }
                        })
                    })
                }), 2e3)
            },
            webutils._timeout = function(a, b) {
                return new Promise(function(c, d) {
                    a.then(c, d),
                        setTimeout(function() {
                                return d(new Error("Operation timed out"))
                            },
                            b)
                })
            },
            webutils.identify = function() {
                return analytics && analytics.ready ? Promise.all([webutils._identifyUserId(), webutils._identifyLeadProperties()]) : Promise.resolve()
            },
            webutils.track = function(a) {
                var b = a.siteCategory,
                    c = a.eventName;
                if (!b || !c) throw new Error("Missing eventData");
                if (b.indexOf(" ") > -1 || c.indexOf(" ") > -1) throw new Error("Event category and name cannot contain spaces");
                var d = ["localhost", "127.0.0.1"],
                    e = d.filter(function(a) {
                        return location.hostname.indexOf(a) !== -1
                    });
                if (!e.length) {
                    var f = "Website_" + a.siteCategory + "_" + a.eventName,
                        g = a.value;
                    webutils._sendToOptimizely(f, g),
                        webutils._sendToDatalayer(f, g),
                        webutils._sendToSegment(f, g)
                }
            },
            webutils._sendToOptimizely = function(a, b) {
                if ("undefined" != typeof optimizely && optimizely.push) try {
                    window.optimizely.push(["trackEvent", a])
                } catch(a) {
                    console.error(a)
                }
            },
            webutils._sendToDatalayer = function(a, b) {
                if ("undefined" != typeof dataLayer && dataLayer.push) {
                    b = b || {},
                        b.event = a;
                    try {
                        dataLayer.push(b)
                    } catch(a) {
                        console.error(a)
                    }
                }
            },
            webutils._sendToSegment = function(a, b) {
                if ("undefined" != typeof analytics && analytics.track) {
                    if (b = b || {},
                    "object" != typeof b) return void console.error("<value> must be an Object");
                    try {
                        analytics.track(a, b)
                    } catch(a) {
                        console.error(a)
                    }
                }
            },
            webutils.pushStateFragment = function(a, b) {
                var c = "//" + location.host + location.pathname + location.search + "#" + b;
                try {
                    history.pushState(b, a, c)
                } catch(a) {}
            },
            webutils.getOrigin = function(a) {
                var b, c, d;
                return b = document.createElement("a"),
                    b.href = a,
                b.host || (b = window.location),
                    c = b.protocol && ":" !== b.protocol ? b.protocol: window.location.protocol,
                    d = c + "//" + b.host,
                    d = d.replace(/:80$|:443$/, "")
            },
            webutils.isMobile = function() {
                var a = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;
                return a.test(navigator.userAgent)
            },
            webutils.iOS = function() {
                return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)
            },
            webutils.isSafari = function() {
                return navigator.userAgent.indexOf("Safari") !== -1 && navigator.userAgent.indexOf("Chrome") === -1
            },
            webutils.isRetina = function() {
                return "devicePixelRatio" in window && devicePixelRatio > 1 || "matchMedia" in window && matchMedia("(min-resolution:144dpi)").matches
            },
            webutils.convertRangeToSegment = function(a) {
                var b, c;
                if (a) return a = String(a),
                    c = a.split("-"),
                    b = "none",
                    c.length <= 1 ? b: (c = c[1], c > 0 ? b = c > 4999 ? "ENT": c > 249 ? "MM": c > 24 ? "SMB": "VSB": "5000+" === a && (b = "ENT"), b)
            },
            webutils.convertSizeToRange = function(a) {
                return ! a || a < 10 ? "1-9": a < 50 ? "10-49": a < 100 ? "50-99": a < 250 ? "100-249": a < 500 ? "250-499": a < 1e3 ? "500-999": a < 5e3 ? "1000-4999": "5000+"
            },
            webutils.debounce = function(a, b, c) {
                var d;
                return function() {
                    var e = this,
                        f = arguments,
                        g = function() {
                            d = null,
                            c || a.apply(e, f)
                        },
                        h = c && !d;
                    clearTimeout(d),
                        d = setTimeout(g, b),
                    h && a.apply(e, f)
                }
            },
            webutils.throttle = function(a, b, c) {
                var d, e, f, g = null,
                    h = 0;
                c || (c = {});
                var i = function() {
                    h = c.leading === !1 ? 0 : Date.now(),
                        g = null,
                        f = a.apply(d, e),
                    g || (d = e = null)
                };
                return function() {
                    var j = Date.now();
                    h || c.leading !== !1 || (h = j);
                    var k = b - (j - h);
                    return d = this,
                        e = arguments,
                        k <= 0 || k > b ? (g && (clearTimeout(g), g = null), h = j, f = a.apply(d, e), g || (d = e = null)) : g || c.trailing === !1 || (g = setTimeout(i, k)),
                        f
                }
            };
        var o = !1;
        webutils.gauge = function() {
            var b, c = new Date,
                d = c.getTime(),
                e = document.referrer;
            if (a.cookie("flight")) {
                if (b = JSON.parse(String(a.cookie("flight"))), o) return b;
                d > b.last_touch_timestamp + 18e5 && (b.visits++, b.last_touch_timestamp = d),
                e.indexOf("www.zd") === -1 && e.indexOf("accounts.google") === -1 && location.href.indexOf("/register") === -1 && (b.last_landing_page = location.href, b.last_referrer = document.referrer, b.last_touch_timestamp = d),
                    b.time_on_site = Math.round((d - b.last_touch_timestamp) / 1e3),
                    b.total_time_on_site += b.time_on_site,
                    b.page_views = ++b.page_views
            } else e = e.indexOf("www.zd") === -1 ? e: "",
                b = {
                    first_touch_timestamp: d,
                    last_touch_timestamp: d,
                    first_referrer: e,
                    last_referrer: "none",
                    first_landing_page: location.href,
                    last_landing_page: "none",
                    time_on_site: 0,
                    total_time_on_site: 0,
                    page_views: 1,
                    visits: 1,
                    trials: 0,
                    domain: "none"
                };
            return webutils.setFlightCookie(b),
                o = !0,
                b
        };
        var p = "1.0.3",
            q = [{
                title: "Proactive Chat follow",
                conditions: {
                    properties: []
                },
                sessionConditions: {
                    properties: [{
                        propertyName: "chat_in_session",
                        operator: "eq",
                        value: !0
                    }]
                },
                offer: "ProactiveChatFollow",
                exclusions: [],
                widgetUrl: "/proactive-chat-widget/",
                version: "1.0"
            },
                {
                    title: "Time on pricing page > 0s Proactive Chat",
                    conditions: {
                        properties: [{
                            propertyName: "time_on_site",
                            value: 0,
                            operator: "gte"
                        }]
                    },
                    offer: "ProactiveChat",
                    inclusions: ["/product/pricing", "/support", "/support/overview", "/support/features", "/support/pricing", "/support/compare", "/chat/pricing", "/talk/pricing", "/guide/pricing", "/suite/pricing", "/guide/compare", "/talk/compare", "/chat/compare", "/suite/compare", "/suite/features", "/suite", "/chat/live-chat-sales"],
                    widgetUrl: "/proactive-chat-widget/",
                    version: "1.0"
                },
                {
                    title: "Default Contact Sales button and widget",
                    offer: "ContactWidget",
                    exclusions: ["/product/pricing", "/chat/apple-business-chat"],
                    widgetUrl: "/contact-us-widget/"
                },
                {
                    title: "High touch widget",
                    offer: "HighTouchProactiveChat",
                    exclusions: ["/chat/apple-business-chat"],
                    widgetUrl: "/proactive-chat-widget/",
                    version: "1.0"
                }];
        webutils.getVisitorSession = function() {
            return JSON.parse(sessionStorage.getItem("proactiveSession"))
        },
            webutils.showProactiveOffer = function(c) {
                var d = webutils.gauge(),
                    h = webutils.getVisitorSession(),
                    i = a("#proactive-offer-container");
                if (d && i.length) {
                    if (d.seenOfferVersion !== p) d.seenOffer = null;
                    else if (c) return void g(c, i);
                    for (var j, k = "ContactWidget",
                             l = 0; l < q.length; l++) {
                        var m = q[l];
                        if (!d.dismissedOffers || d.dismissedOffers[m.offer] !== m.version) if (m.exclusions && m.inclusions) console.error("Offer has both inclusions and exlusions list");
                        else if (!e(m) && f(m)) {
                            var n = m.sessionConditions;
                            if (h && n && b(n, h)) {
                                j = m.offer;
                                break
                            }
                            var o = m.conditions;
                            if (!o || b(o, d)) {
                                j = m.offer;
                                break
                            }
                        }
                    }
                    g(j, i),
                    j != k && (d.seenOffer = j, d.seenOfferVersion = p),
                        webutils.setFlightCookie(d)
                }
            },
            webutils.resetToDefaultOffer = function() {
                var b = JSON.parse(String(a.cookie("flight")));
                b.seenOffer = "ContactWidget",
                    webutils.setFlightCookie(b)
            },
            webutils.dismissOffer = function() {
                var b = JSON.parse(String(a.cookie("flight"))),
                    d = b.seenOffer,
                    e = c(d),
                    f = "";
                if (d) {
                    e.version && (f = e.version);
                    var g = b.dismissedOffers || {};
                    g[d] = f,
                        b.dismissedOffers = g,
                        webutils.setFlightCookie(b),
                        webutils.showProactiveOffer("ContactWidget")
                }
            },
            webutils.setFlightCookie = function(b) {
                var c = location.hostname.substr(location.hostname.indexOf(".") + 1);
                a.cookie("flight", JSON.stringify(b), {
                    expires: 730,
                    path: "/",
                    domain: c
                })
            },
            webutils.getURLParameter = function(a) {
                var b = RegExp(a + "=(.+?)(&|$)");
                return decodeURI((b.exec(location.search) || [, null])[1])
            },
            webutils.parseFragment = function() {
                var a = {},
                    b = window.location.href.split("#");
                if (b.length < 2) return a;
                for (var c, d = b[1], e = /([^&;=]+)=?([^&;]*)/g, f = function(a) {
                    return decodeURIComponent(a.replace(/\+/g, " "))
                }; c = e.exec(d);) a[f(c[1])] = f(c[2]);
                return a
            },
            webutils.setGeoByIP = function() {
                return new Promise(function(b, c) {
                    a.ajax({
                        url: webutils.appUrl("geo.json"),
                        type: "GET",
                        success: function(c) {
                            a("input#trial_extras\\[DB_CCode__c\\]").val(c.country_code),
                                a("input#trial_extras\\[Country__c\\]").val(c.country),
                                a("input#trial_extras\\[DB_State__c\\]").val(c.state),
                                a("input#trial_extras\\[DB_City__c\\]").val(c.city),
                                a("input#trial_extras\\[DB_Zip__c\\]").val(c.postal),
                                a("input#trial_extras\\[Region__c\\]").val(c.region),
                                a("input#address\\[postal\\]").val(c.postal),
                                a("#MailingCountry").val(c.country).trigger("change");
                            var d = "Success",
                                e = {};
                            c.error ? (a("input#trial_extras\\[DB_CCode__c\\]").val("US"), a("input#trial_extras\\[Country__c\\]").val("United States"), a("#MailingCountry").val("United States"), d = "Error", e.error = c.error) : (e.country = c.country, e.region = c.region),
                                webutils.track({
                                    siteCategory: "Geolocation",
                                    eventName: d,
                                    value: e
                                }),
                                b(c)
                        },
                        error: function(a, b, d) {
                            console.error(d),
                                webutils.track({
                                    siteCategory: "Geolocation",
                                    eventName: "AjaxError",
                                    value: {
                                        error: d
                                    }
                                }),
                                c()
                        }
                    })
                })
            },
            webutils.getGeoData = function() {
                return new Promise(function(b, c) {
                    a.ajax({
                        url: webutils.appUrl("geo.json"),
                        type: "GET",
                        success: function(a) {
                            b(a)
                        },
                        error: function(a, b, d) {
                            console.error(d),
                                c()
                        }
                    })
                })
            },
            webutils.getCurrency = function() {
                var b = ["US", "UK", "GB", "IM", "GI", "JE", "GG", "AT", "BE", "CY", "EE", "FI", "FR", "DE", "EL", "IE", "IT", "LV", "LU", "MT", "NL", "PT", "SK", "SI", "ES", "MC", "VA", "SM", "ME", "MC", "LU", "XK", "KV", "GR", "AD"],
                    c = !1,
                    d = "startups" === webutils.getURLParameter("promo");
                if (d) c = "USD";
                else switch (h) {
                    case "zd.fr":
                        c = "EUR";
                        break;
                    case "zd.it":
                        c = "EUR";
                        break;
                    case "zd.nl":
                        c = "EUR";
                        break;
                    case "zd.com.mx":
                        c = "USD";
                        break;
                    case "zd.com.br":
                        c = "USD";
                        break;
                    case "zd.co.jp":
                        c = "USD";
                        break;
                    case "zd.de":
                        c = "EUR"
                }
                if (!c || "zd.es" == h) {
                    var e = a.cookie("currency");
                    if (e) c = String(e);
                    else {
                        var f = a("input#trial_extras\\[DB_CCode__c\\]").val(),
                            g = b.indexOf(f);
                        c = g >= 7 ? "EUR": g > 0 && g < 7 ? "GBP": "USD"
                    }
                }
                var h = location.hostname.substr(location.hostname.indexOf(".") + 1);
                return a.cookie("currency", c, {
                    expires: 730,
                    path: "/",
                    domain: h
                }),
                    c
            },
            webutils.calcTextWidth = function(a) {
                var b, c = a.html(),
                    d = "<span>" + c + "</span>";
                return a.html(d),
                    b = a.find("span:first").width(),
                    a.html(c),
                    b
            },
            webutils.isValidText = function(a) {
                return true
            },
    webutils.isValidEmail = function(a) {
        return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)
            },
            webutils.isSupportEmail = function(a) {
                var b, c;
                for (a = a.toLowerCase(), c = a.split("@")[0], b = 0; b < m.length; b++) if (c === m[b]) return ! 0;
                return ! 1
            },
            webutils.isZendeskInstanceEmail = function(a) {
                return a.toLowerCase().indexOf(".zd.com") !== -1
            },
            webutils.paramsForEloqua = function(b, c) {
                b = b || "[name=gclid_field]";
                var c = c || "[name=hiddenCampaignId]";
                if (hiddenCampaignIdFieldValue = a(c).val(), a.cookie("flight")) try {
                    var d = JSON.parse(a.cookie("flight")),
                        e = d.first_landing_page;
                    if (e) {
                        var f = /[\?\&]gclid=([^&$]+)/g,
                            g = f.exec(e);
                        g.length > 1 && a(b).val(g[1])
                    }
                } catch(a) {
                    "undefined" != typeof Bugsnag && Bugsnag.notify("JSON decode", "Decoding flight cookie JSON failed", {
                        special_info: {
                            firstLandingPage: e
                        }
                    })
                }
                if (!hiddenCampaignIdFieldValue) {
                    var h = webutils.getParameterByName("hiddenCampaignId");
                    if (h === -1) {
                        var i = webutils.getParameterByName("utm_campaign");
                        h = i !== -1 ? i.split("_").pop() : "70180000001F8ad"
                    }
                    a(c).val(h)
                }
            },
            webutils.clearbitFieldFinder = function(b) {
                var c = [],
                    d = a(b);
                return d.find("[data-clearbit]").each(function(b, d) {
                    c.push(a(d).attr("data-clearbit"))
                }),
                    c
            },
            webutils.isDST = function() {
                var a = new Date,
                    b = new Date(a.getFullYear(), 0, 1, 0, 0, 0, 0),
                    c = new Date(a.getFullYear(), 6, 1, 0, 0, 0, 0),
                    d = b.toGMTString(),
                    e = new Date(d.substring(0, d.lastIndexOf(" ") - 1)),
                    f = new Date(d.substring(0, d.lastIndexOf(" ") - 1)),
                    g = (b - e) / 36e5,
                    h = (c - f) / 36e5;
                return h != g
            },
            webutils.lockTopNavigation = function() {
                webutils.globalNav.sticky.init()
            },
            webutils.stickyNavigation = function() {
                a(window).scroll(webutils.throttle(function() {
                        var b = a(".nav-sticky-menu"),
                            c = a(".nav-offsetter"),
                            d = c.offset().top,
                            e = (a(window).height(), a(document).scrollTop()),
                            f = ( - b.height(), 0);
                        if (webutils.globalNav.sticky.isSticky && (d -= webutils.globalNav.sticky.navHeight, f = webutils.globalNav.sticky.navHeight), !webutils.isMobile()) if (e > d) {
                            var g = b.height();
                            b.addClass("nav-fixed").css("top", f),
                                c.css("min-height", g)
                        } else b.removeClass("nav-fixed").css("top", "auto"),
                            c.css("min-height", 0)
                    },
                    10)),
                    a(window).scroll()
            },
            webutils.splitName = function(a) {
                var b = (a || "").split(" "),
                    c = b.slice(0, 1).join(" "),
                    d = b.slice(1).join(" ");
                return d || (d = c),
                    [c, d]
            },
            webutils.escapeHTML = function(a) {
                return String(a).replace(/[&<>'";]/g, "")
            },
            webutils.subdomainsCache = null,
            webutils.getSubdomainInfo = function() {
                if (!l) return Promise.resolve([]);
                if (webutils.subdomainsCache) return Promise.resolve(webutils.subdomainsCache);
                var a = [];
                return l.onConnect().then(function() {
                    return l.getKeys()
                }).then(function(b) {
                    var c, d, e;
                    if (b && b.length) {
                        for (e = [], c = 0; c < b.length; c++) d = b[c].split(":"),
                        d[0].indexOf("userInfo") !== -1 && (a.push(d[1]), e.push(b[c]));
                        if (e.length) return l.get.apply(l, e)
                    }
                }).then(function(b) {
                    var c;
                    if (webutils.subdomainsCache = [], !b) return [];
                    for (b.length || (b = [b]), c = 0; c < b.length; c++) b[c].key = a[c] + ".zd.com";
                    return b.sort(function(a, b) {
                        return a.lastUpdated > b.lastUpdated ? -1 : a.lastUpdated < b.lastUpdated ? 1 : 0
                    }),
                        webutils.subdomainsCache = b,
                        b
                }).
                catch(function(a) {
                    console.error(a)
                })
            },
            webutils.getSubdomains = function() {
                return webutils.getSubdomainInfo().then(function(a) {
                    return a && a.length ? a.map(function(a) {
                        return a.key
                    }) : []
                })
            },
            webutils.getFormattedSubdomains = function(a) {
                return a = a || {},
                    webutils.getSubdomainInfo().then(function(b) {
                        if (b && b.length) return b.map(function(b) {
                            var c = a.truncationLength || 22,
                                d = b.key.substring(0, c);
                            return d.length !== b.key.length && (d += "..."),
                                {
                                    name: d,
                                    shortName: b.key.replace(".zd.com", ""),
                                    url: "https://" + b.key,
                                    role: b.role
                                }
                        })
                    })
            },
            webutils.getLastTrial = function() {
                return webutils.getSubdomainInfo().then(function(a) {
                    if (a && a.length) for (var b = 0; b < a.length; b++) if ("trial" === a[b].customerType) return "https://" + a[b].key
                })
            },
            webutils.showCTA = function(b, c, d) {
                d = d || {};
                var e = function() {
                        return d.displayInlineBlock ? a(b).css("display", "inline-block") : a(b).show()
                    },
                    f = d.subdomainListSelector || "ul.subdomainlogin",
                    g = a(f);
                return g.length && window.webutils ? (webutils.isWebkit() && a(f).find("ul").addClass("webkit"), webutils.getFormattedSubdomains(d).then(function(b) {
                    if (!b || !b.length) return e();
                    g.show();
                    var h = a(f).find(".login-btn");
                    if (!h.length) return void console.error("No login button found within subdomain list");
                    if (1 === b.length) {
                        var i = b[0].url + c,
                            j = h[0].tagName.toLowerCase();
                        return "button" === j ? h.click(function() {
                            window.open(i)
                        }) : h.attr("href", i)
                    }
                    h.click(function(a) {
                        return a.preventDefault(),
                            !1
                    }),
                        h.addClass("multi-subdomains");
                    var k = a(f).find("ul"),
                        l = !!d.truncationLength;
                    b.forEach(function(b) {
                        var d = l ? b.name: b.shortName,
                            e = a('<li><a href="' + b.url + c + '">' + d + "</a></li>");
                        k.append(e)
                    })
                }).then(function() {
                    var b = ".subdomainlogin > li > a:not(.multi-subdomains)",
                        c = ".subdomainlogin li ul li a";
                    a(b + ", " + c).click(function() {
                        window.dataLayer && d.event && dataLayer.push({
                            event: d.event
                        })
                    })
                }).
                catch(e)) : Promise.resolve(e())
            },
            webutils.getCustomerDimensions = function() {
                return l ? l.onConnect().then(function() {
                    return l.getKeys()
                }).then(function(a) {
                    if (a && a.length) {
                        for (var b = -1,
                                 c = 0; c < a.length; c++) if (a[c].split(":")[0].indexOf("userInfo") !== -1) {
                            b = c;
                            break
                        }
                        return b !== -1 ? l.get(a[b]) : Promise.resolve()
                    }
                }).then(function(a) {
                    if (!a || !a.customerType) return Promise.resolve();
                    window.dataLayer = window.dataLayer || [],
                        optimizely = optimizely || [];
                    try {
                        optimizely.push(["setDimensionValue", "customerType", a.customerType]),
                            optimizely.push(["setDimensionValue", "customerRole", a.role]),
                            optimizely.push(["setDimensionValue", "customerPlan", a.planName])
                    } catch(a) {
                        console.error(a)
                    }
                    return n[38] = a.customerType,
                        n[39] = a.role,
                        n[40] = a.planName,
                        Promise.resolve()
                }).
                catch(function(a) {
                    console.error(a)
                }) : Promise.resolve()
            },
            webutils.getDimensions = function() {
                return n
            },
            webutils.postToEloqua = function(b, c) {
                function d(a, b) {
                    e += '<input type="checkbox" name="' + a + '" value="' + b + '" checked/>'
                }
                var e, f, g = a(b),
                    h = [],
                    i = [],
                    j = [],
                    k = g.find("textarea"),
                    l = g.find("input[type=text], input[type=email], input[type=number], input[type=tel], input[type=hidden]"),
                    m = g.find("input[type=radio]:checked"),
                    n = g.find("input[type=checkbox]:checked"),
                    o = (g.find("option[selected]"), g.find(".multiselect-dropdown"), a('<iframe class="eloqua-iframe-form" style="display:none;" src="/public/assets/html/eloqua-lead-form-relay.html"></iframe>'));
                a(".eloqua-iframe-form").remove(),
                    e = '<form id="eloqua-injected" action="//s2136619493.t.eloqua.com/e/f2" method="post">',
                    l.each(function() {
                        h[this.id] = webutils.escapeHTML(a(this).val())
                    });
                for (var f in h) {
                    var p = h[f];
                    p = p || "",
                        e += '<input type="text" name="' + f + '" value="' + p + '"/>'
                }
                m.each(function() {
                    i[this.id] = webutils.escapeHTML(a(this).val())
                });
                for (var f in i) {
                    var p = i[f];
                    p = p || "",
                        e += '<input type="radio" name="' + f + '" value="' + p + '" checked/>'
                }
                var q = {};
                n.each(function() {
                    var b = a(this),
                        c = webutils.escapeHTML(b.attr("name")),
                        e = webutils.escapeHTML(b.val());
                    if (e = e || "", c.indexOf("[]")) {
                        var f = q[c] || [];
                        f.push(e),
                            q[c] = f
                    } else d(c, e)
                }),
                    Object.keys(q).forEach(function(a) {
                        d(a, q[a].join(","))
                    }),
                    k.each(function() {
                        j[this.id] = a(this).val()
                    });
                for (var f in j) {
                    var p = j[f];
                    p = webutils.escapeHTML(p),
                        e += '<input type="text" name="' + f + '" value="' + p + '"/>'
                }
                g.find("select").find(":selected").each(function() {
                    e += '<select name="' + a(this).parent().attr("name") + '"><option value="' + webutils.escapeHTML(a(this).val()) + '" selected="selected" /></select>'
                }),
                    e += "</form>",
                    o.one("load",
                        function() {
                            try {
                                o.contents().find("body").append(e),
                                c && o.on("load", c)
                            } catch(a) {}
                        }),
                    a("body").append(o),
                window.dataLayer && dataLayer.push({
                    event: "form_submission"
                })
            },
            webutils.searchForCookie = function(a) {
                var b = "";
                if (!document.cookie.length) return b;
                var c = document.cookie.indexOf(a + "=");
                if (c != -1) {
                    c = c + a.length + 1;
                    var d = document.cookie.indexOf(";", c);
                    d == -1 && (d = document.cookie.length),
                        b = unescape(document.cookie.substring(c, d))
                }
                return b
            },
            webutils.parseCookies = function() {
                var b = "",
                    c = "",
                    d = "",
                    e = "",
                    f = "",
                    g = "",
                    h = "",
                    j = "";
                if (g = webutils.searchForCookie("__utmz"), h = webutils.searchForCookie("optimizelyEndUserId"), j = webutils.searchForCookie("optimizelyBuckets"), g) {
                    var k = g.split(".");
                    if (k.length >= 4) {
                        var l = k[4].split("|");
                        for (i = 0; i < l.length; i++) l[i].indexOf("utmcsr=") >= 0 && (b = l[i].substring(l[i].indexOf("=") + 1)),
                        l[i].indexOf("utmccn=") >= 0 && (c = l[i].substring(l[i].indexOf("=") + 1)),
                        l[i].indexOf("utmcmd=") >= 0 && (d = l[i].substring(l[i].indexOf("=") + 1)),
                        l[i].indexOf("utmctr=") >= 0 && (e = l[i].substring(l[i].indexOf("=") + 1)),
                        l[i].indexOf("utmcct=") >= 0 && (f = l[i].substring(l[i].indexOf("=") + 1));
                        a("input#GA_Medium").val(d),
                            a("input#GA_Source").val(b)
                    }
                }
                "" !== h && a("input#Opti_ID").val(h),
                "" !== j && a("input#Opti_Variation_ID").val(j)
            },
            webutils.getParameterByName = function(a) {
                a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var b = new RegExp("[\\?&]" + a + "=([^&#]*)"),
                    c = b.exec(location.search);
                return null === c ? -1 : decodeURIComponent(c[1].replace(/\+/g, " "))
            },
            webutils.getParameters = function() {
                var a = location.search.substring(1);
                if (0 !== a.length) return JSON.parse("{" + decodeURIComponent(a).replace(/"/g, '\\"').replace(/([^&^=]+)\=?([^&]*)/g, '"$1": "$2"').replace(/&/g, ",") + "}")
            },
            webutils.setMAVs = function(b) {
                var c = webutils.gauge() || {};
                return a("input#trial_extras\\[First_Touch__c\\]").val(c.first_landing_page),
                    a("input#trial_extras\\[Last_Touch__c\\]").val(c.last_landing_page),
                    a("input#trial_extras\\[Time_On_Site__c\\]").val(c.time_on_site),
                    a("input#trial_extras\\[Visits__c\\]").val(c.visits),
                    a("input#trial_extras\\[Pageviews__c\\]").val(c.page_views),
                b && (a("input#trial_extras\\[Web_Offer__c\\]").val("Trial"), a("input#trial_extras\\[Web_Offer_Name__c\\]").val("Trial")),
                    webutils.parseCookies(),
                    webutils.setGeoByIP()
            },
            webutils.cookies = {
                getItem: function(a) {
                    return a ? decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(a).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null: null
                },
                setItem: function(a, b, c, d, e, f) {
                    if (!a || /^(?:expires|max\-age|path|domain|secure)$/i.test(a)) return ! 1;
                    var g = "";
                    if (c) switch (c.constructor) {
                        case Number:
                            g = c === 1 / 0 ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT": "; max-age=" + c;
                            break;
                        case String:
                            g = "; expires=" + c;
                            break;
                        case Date:
                            g = "; expires=" + c.toUTCString()
                    }
                    return document.cookie = encodeURIComponent(a) + "=" + encodeURIComponent(b) + g + (e ? "; domain=" + e: "") + (d ? "; path=" + d: "") + (f ? "; secure": ""),
                        !0
                },
                removeItem: function(a, b, c) {
                    return !! this.hasItem(a) && (document.cookie = encodeURIComponent(a) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT" + (c ? "; domain=" + c: "") + (b ? "; path=" + b: ""), !0)
                },
                hasItem: function(a) {
                    return !! a && new RegExp("(?:^|;\\s*)" + encodeURIComponent(a).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(document.cookie)
                },
                keys: function() {
                    for (var a = /((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,
                             b = document.cookie.replace(a, "").split(/\s*(?:\=[^;]*)?;\s*/), c = b.length, d = 0; d < c; d++) b[d] = decodeURIComponent(b[d]);
                    return b
                }
            },
            webutils.redirect = function(a) {
                if (navigator.userAgent.indexOf("MSIE") !== -1) {
                    var b = document.createElement("a");
                    b.href = a,
                        document.body.appendChild(b),
                        b.click()
                } else window.location.href = a
            },
            webutils.setHomeCookie = function() {
                if (l && !webutils.cookies.getItem(webutils.homeKey)) {
                    var a = ["apps", "chat"],
                        b = function(a) {
                            return a[Math.floor(Math.random() * a.length)]
                        },
                        c = function(a) {
                            var b, c;
                            b = 7776e6,
                                c = new Date((new Date).getTime() + b),
                                webutils.cookies.setItem(webutils.homeKey, a, c)
                        };
                    return l.onConnect().then(function() {
                        return l.getKeys()
                    }).then(function(a) {
                        if (a && a.length) {
                            for (var b = [], c = 0; c < a.length; c++) a[c].split(":")[0].indexOf("userInfo") !== -1 && b.push(a[c]);
                            return b.length ? l.get(b[0]) : Promise.resolve()
                        }
                    }).then(function(d) {
                        if (d && d.customerType) {
                            if ("trial" === d.customerType) return;
                            "Essential" !== d.planName && "Team" !== d.planName || a.push("team"),
                            "Professional" === d.planName && a.push("professional"),
                            "Enterprise" === d.planName && a.push("enterprise"),
                                c(b(a))
                        } else c(b(a))
                    }).
                    catch(function() {})
                }
            },
            webutils.addTrialHomeCookie = function() {
                var a, b;
                a = 864e5,
                    b = new Date((new Date).getTime() + a),
                    webutils.cookies.setItem(webutils.homeKey, "trial", b)
            },
            webutils.updateFeaturePriorities = function(b) {
                var c, d, e, f, g;
                if (c = "features", d = ["help_center", "chat", "voice", "embeddables", "sdk"], e = {
                    expires: 7,
                    path: "/"
                },
                d.indexOf(b) !== -1) {
                    if (!a.cookie(c)) return a.cookie(c, b, e);
                    f = a.cookie(c).split(","),
                        g = f.indexOf(b),
                    g > -1 && f.splice(g, 1),
                        f.unshift(b),
                        a.cookie(c, f.join(","), e)
                }
            },
            webutils.processGA = function() {
                if (window.location.href.indexOf("/register") === -1) {
                    var a = function() {
                        webutils.getCustomerDimensions().then(function() {
                            for (var a = webutils.getDimensions(), b = 20; b < a.length; b++) {
                                var c = "dimension" + b,
                                    d = {};
                                d[c] = a[b],
                                    dataLayer.push(d)
                            }
                        })
                    };
                    setTimeout(function() {
                            a()
                        },
                        3e3)
                }
            },
            webutils.trackIntent = function(a) {
                webutils.getSubdomainInfo().then(function(b) {
                    if (b) {
                        for (var c, d = 0; d < b.length; d++) if ("trial" !== b[d].customerType) {
                            c = b[d].key;
                            break
                        }
                        c && window.analytics && webutils.track({
                            siteCategory: "Intent",
                            eventName: a,
                            value: {
                                subdomain: c
                            }
                        })
                    }
                })
            },
            webutils.saveEloquaGuid = function() {
                function a() {
                    if (b) {
                        if (c <= 0) return;
                        if (c -= 1, "function" != typeof GetElqCustomerGUID) return;
                        try {
                            document.forms.eloquaform.elements.elqCustomerGUID.value = GetElqCustomerGUID()
                        } catch(a) {}
                    }
                    b = setTimeout(a, 500)
                }
                var b = null,
                    c = 5;
                "undefined" != typeof _elqQ && "undefined" != typeof document.forms.eloquaform && (window.onload = a, _elqQ.push(["elqGetCustomerGUID"]))
            },
            webutils.globalNav = {
                navBreakpoint: 778,
                hideCurrentLanguage: function(b) {
                    var c = b.find(".language-menu"),
                        d = c.find(".dropdown a"),
                        e = a("html").attr("lang").toLowerCase(),
                        f = (webutils.languageToDomainMap[e] || ".com", d.filter('[data-lang="' + e + '"]')),
                        g = f.text().replace(/\(.+?\)/g, "");
                    f.hide(),
                        c.find(".open-dropdown").text(g),
                        c.addClass("initialized")
                },
                sticky: {
                    isSticky: !1,
                    offset: 0,
                    navHeight: 0,
                    init: function() {
                        var b = webutils.globalNav,
                            c = a(".global-header"),
                            d = function() {
                                var d = c.find(".sticky-marker").offset().top;
                                if (b.sticky.offset = d, a(window).scrollTop() >= d) {
                                    c.addClass("stuck");
                                    var e = c.find(".sticky-container").height();
                                    c.find(".sticky-marker").css("min-height", e),
                                        b.sticky.navHeight = e
                                } else c.removeClass("stuck"),
                                    c.find(".sticky-marker").css("min-height", 0)
                            };
                        b.sticky.isSticky = !0,
                            a(window).on("scroll resize", webutils.throttle(d, 20))
                    }
                },
                setActiveParent: function(a) {
                    var b = window.location.pathname,
                        c = b.replace(/^\/(.+?)\/?$/, "$1"),
                        d = b.split("/")[1],
                        e = a.find('.primary-link[href*="' + d + '"]').eq(0),
                        f = {
                            support: "/products",
                            guide: "/products",
                            chat: "/products",
                            talk: "/products",
                            explore: "/products",
                            connect: "/products",
                            inbox: "/products",
                            suite: "/products",
                            omnichannel: "/solutions",
                            "self-service": "/solutions",
                            blog: "/resources",
                            "company/events": "/resources",
                            "why-zendesk/customers": "/resources",
                            partner: "/resources",
                            "support/webinars": "/resources",
                            podcast: "/resources",
                            "product/pricing": "/pricing"
                        };
                    "/" !== b && ("undefined" != typeof f[c] ? a.find('.primary-link[href*="' + f[c] + '"]').parent("li").addClass("active") : e.length > 0 && e.parent("li").addClass("active"))
                },
                init: function() {
                    var b = this,
                        c = a(".global-header");
                    a(".global-footer");
                    c.find(".js-toggle-mobile-menu").on("click",
                        function(b) {
                            b.preventDefault(),
                                a(this).toggleClass("open"),
                                c.toggleClass("open"),
                                c.find(".primary-nav .nav-items").toggleClass("open"),
                                a("body").toggleClass("no-overflow")
                        }),
                        c.find(".js-open-dropdown").on("click",
                            function(c) {
                                window.innerWidth < b.navBreakpoint && (c.preventDefault(), a(this).toggleClass("open"), a(this).siblings(".dropdown").toggleClass("open"))
                            }),
                        a(window).on("resize",
                            function() {
                                window.innerWidth > b.navBreakpoint && c.hasClass("open") && c.find(".js-toggle-mobile-menu").click()
                            }),
                        this.setActiveParent(c),
                        this.hideCurrentLanguage(c)
                }
            },
            webutils.registerModal = function(b, c) {
                var d, e, f, g, h, i, j, k, l, m, n, o;
                d = a("body"),
                    e = a("<div/>", {
                        class: "overlay-form"
                    }).css({
                        display: "none"
                    }),
                    f = a("<div/>", {
                        class: "overlay-bg"
                    }).css({
                        display: "none"
                    }),
                    g = a("<div/>", {
                        class: "modal-wrapper"
                    }),
                    h = a("<div/>", {
                        class: "modal-container"
                    }),
                    content = a("<div/>", {
                        class: "modal-content"
                    }),
                    i = a("<a/>", {
                        class: "modal-close",
                        href: "#"
                    }),
                    h.append(i, content),
                    g.append(h),
                    e.append(f, g),
                    d.append(f, e),
                    j = a(b.form).css({
                        display: "none"
                    }),
                    l = a(b.success).css({
                        display: "none"
                    }),
                    m = a(b.failure).css({
                        display: "none"
                    }),
                    content.append(j, l, m),
                    a("<div/>", {
                        class: "modal-success"
                    }).prependTo(l),
                    k = j.find("a").not(".text-link"),
                    k.attr("class", "submit"),
                    n = function(b) {
                        var c = 0; (a(window).width() < 768 || a(window).height() < 700 || webutils.isMobile()) && (c = a(document).scrollTop()),
                            j.show(),
                            f.css({
                                opacity: 0
                            }).show().delay(b).animate({
                                    opacity: .6
                                },
                                500),
                            e.css({
                                top: "-1000px",
                                opacity: 0
                            }).show().delay(b).animate({
                                    top: c,
                                    opacity: 1
                                },
                                500)
                    },
                    o = function(a) {
                        a && a.preventDefault(),
                            j.hide(),
                            l.hide(),
                            m.hide(),
                            e.hide(),
                            f.hide()
                    },
                    h.on("click",
                        function(a) {
                            a.stopPropagation()
                        }),
                    g.on("click", o),
                    f.on("click", o),
                    i.on("click", o),
                    a(k).on("click",
                        function(a) {
                            a.preventDefault(),
                                c(function(a) {
                                    return j.hide(),
                                        a ? m.show() : (j.find("input").val(""), void l.show())
                                })
                        }),
                    a(b.trigger).on("click",
                        function(a) {
                            a.preventDefault(),
                                n(0)
                        }),
                b.hash && window.location.hash === b.hash && n(1500)
            },
            webutils.registerSimpleModal = function(b, c) {
                var d, e, f, g, h, i, j, k, l, m;
                d = a("body"),
                    e = a("<div/>", {
                        class: "overlay-form"
                    }).css({
                        display: "none"
                    }),
                    f = a("<div/>", {
                        class: "overlay-bg"
                    }).css({
                        display: "none"
                    }),
                    g = a("<div/>", {
                        class: "modal-wrapper"
                    }),
                    h = a("<div/>", {
                        class: "modal-container"
                    }),
                    l = a("<div/>", {
                        class: "modal-content"
                    }),
                    i = a("<a/>", {
                        class: "modal-close",
                        href: "#"
                    }),
                    h.append(i, l),
                    g.append(h),
                    e.append(f, g),
                    d.append(f, e),
                    m = a(b.content).html(),
                    l.append(m),
                    j = function(b) {
                        var c = 0; (a(window).width() < 768 || a(window).height() < 700 || webutils.isMobile()) && (c = a(document).scrollTop()),
                            f.css({
                                opacity: 0
                            }).show().delay(b).animate({
                                    opacity: .6
                                },
                                500),
                            e.css({
                                top: "-1000px",
                                opacity: 0
                            }).show().delay(b).animate({
                                    top: c,
                                    opacity: 1
                                },
                                500)
                    },
                    k = function(a) {
                        a && a.preventDefault(),
                            e.hide(),
                            f.hide()
                    },
                    h.on("click",
                        function(a) {
                            if (!a.target || !a.target.hasAttribute("href")) return a.preventDefault(),
                                !1
                        }),
                    h.on("click", "a",
                        function(a) { ! a.target || !a.target.hasAttribute("href"),
                            window.location = a.target.getAttribute("href")
                        }),
                    g.on("click", k),
                    f.on("click", k),
                    i.on("click", k),
                b.trigger && a(b.trigger).on("click",
                    function(a) {
                        a.preventDefault(),
                            j(0)
                    }),
                b.hash && window.location.hash === b.hash && j(1500)
            },
            webutils.showBanner = function(b, c, d) {
                if (d = d || "body", webutils.isMobile() || a.cookie(c)) return ! 1;
                var e = a('<div class="sitewide event alert"><div class="wrap"><div class="body"><span class="message"><span class="title">' + b + '</span></span><a class="js-disable close ent-text" href="javascript:;"></a></div></div></div>'),
                    f = function() {
                        a.cookie(c, "disabled", {
                            expires: 730,
                            path: "/",
                            domain: "zd.com"
                        })
                    };
                a(d).prepend(e);
                var g = e.find(".js-disable");
                return g.click(function() {
                    f(),
                        e.animate({
                                "margin-top": "-" + e.outerHeight() + "px"
                            },
                            {
                                done: function() {
                                    e.hide()
                                }
                            })
                }),
                    !0
            },
            webutils.handleGdprRequirements = function() {
                geoUtils.isUserInContinentCountry("EU", !1, !0).then(function(b) {
                    if (!b || b !== !0) return ! 1;
                    a(".js-opt-in-field").addClass("active"),
                        a(".gdpr-policy").show();
                    var c = "cookie_notification";
                    if (a.cookie(c)) return ! 1;
                    var d = a("#js-cookie-notification");
                    if (!d.length || !d.hasClass("active")) {
                        d.length || (d = a('<div class="cookie-notification" id="js-cookie-notification"><p>By continuing to use this website, you consent to the use of cookies in accordance with our <a class="cookie-policy-link js-cookie-policy-link" href="/company/customers-partners/cookie-policy/">Cookie&nbsp;Policy</a>.</p><a class="close-notice js-disable-notification" href="#"><span class="close-icon"></span></a></div>'), a("body").append(d));
                        var e = "10px";
                        webutils.isMobile() && (e = "0"),
                            d.animate({
                                    bottom: e
                                },
                                {
                                    done: function() {
                                        d.addClass("active"),
                                            webutils.track({
                                                siteCategory: "GDPRModal",
                                                eventName: "Impression"
                                            })
                                    }
                                });
                        var f = d.find(".js-disable-notification"),
                            g = function() {
                                var b = location.hostname.substr(location.hostname.indexOf(".") + 1);
                                a.cookie(c, "disabled", {
                                    expires: 730,
                                    path: "/",
                                    domain: b
                                }),
                                    d.animate({
                                            bottom: "-" + d.outerHeight() + "px"
                                        },
                                        {
                                            done: function() {
                                                d.addClass("disabled"),
                                                    webutils.track({
                                                        siteCategory: "GDPRModal",
                                                        eventName: "Close"
                                                    })
                                            }
                                        })
                            };
                        return f.on("click",
                            function(a) {
                                a.preventDefault(),
                                    g()
                            }),
                            a(".js-cookie-policy-link").on("click",
                                function() {
                                    webutils.track({
                                        siteCategory: "GDPRModal",
                                        eventName: "ClickCookiePolicyLink"
                                    })
                                }),
                            !0
                    }
                }).
                catch(function(a) {
                    return console.error(a),
                        !1
                })
            },
            webutils.countryToDomainMap = {
                es: ".es",
                mx: ".com.mx",
                br: ".com.br",
                fr: ".fr",
                de: ".de",
                it: ".it",
                kr: ".kr",
                nl: ".nl",
                jp: ".co.jp",
                tw: ".tw",
                hk: ".hk",
                cn: ".cn",
                th: ".com/th",
                ru: ".com.ru",
                gb: ".co.uk",
                us: ".com"
            },
            webutils.languageToDomainMap = {
                es: ".es",
                "es-es": ".es",
                "es-la": ".com.mx",
                pt: ".com.br",
                "pt-br": ".com.br",
                fr: ".fr",
                "fr-fr": ".fr",
                de: ".de",
                "de-de": ".de",
                it: ".it",
                "it-it": ".it",
                ko: ".kr",
                "ko-kp": ".kr",
                "ko-kr": ".kr",
                nl: ".nl",
                "nl-nl": ".nl",
                ja: ".co.jp",
                "ja-jp": ".co.jp",
                "zh-tw": ".tw",
                "zh-hk": ".hk",
                "zh-cn": ".cn",
                "th-th": ".com/th",
                ru: ".com.ru",
                "ru-ru": ".com.ru",
                "en-gb": ".co.uk",
                "en-us": ".com",
                en: ".com",
                zopim: {
                    en: "www",
                    es: "es",
                    de: "de",
                    ru: "ru",
                    tr: "tr",
                    fr: "fr",
                    pt: "pt",
                    jp: "jp"
                }
            },
            webutils.showI18nBanner = function() {
                if (window.location.host.indexOf("zd.tv") === -1 && "www.zd.com" !== window.location.host) return ! 1;
                var b = geoUtils.getGeoData();
                b.then(function(b) {
                    var c = j(b.country_code);
                    if (!c || ".com" === c) return ! 1;
                    var d = "https://www.zd" + c,
                        e = d,
                        f = ["/resources/", "/blog/", "/apps/", "/jobs/", "/company/events/", "/company/press/", "/support/partners/", "/support/webinar", "/why-zd/customers/"],
                        g = f.filter(function(a) {
                            return 0 === location.pathname.indexOf(a)
                        });
                    0 === g.length && (e += location.pathname);
                    var h, i = '<a href="' + e + '">' + e + "</a>";
                    switch (c) {
                        case ".com":
                            h = "If you would prefer to browse in English please visit " + i;
                            break;
                        case ".co.uk":
                            h = "Would you prefer to browse " + i + "?";
                    }
                    var k, l;
                    return k = a("#zd-main-nav-container").length ? "#zd-main-nav-container": "body",
                        l = webutils.showBanner(h, "i18n_alert", k),
                    l && webutils.track({
                        siteCategory: "i18nBanner",
                        eventName: "Impression"
                    }),
                        l
                }).
                catch(function(a) {
                    console.error(a)
                })
            },
            webutils.loadEloqua = function() {
                window._elqQ = window._elqQ || [],
                    _elqQ.push(["elqSetSiteId", "2136619493"]),
                    _elqQ.push(["elqTrackPageView"]),
                    function() {
                        function a() {
                            var a = document.createElement("script");
                            a.type = "text/javascript",
                                a.async = !0,
                                a.src = "//img03.en25.com/i/elqCfg.min.js";
                            var b = document.getElementsByTagName("script")[0];
                            b.parentNode.insertBefore(a, b)
                        }
                        window.addEventListener ? window.addEventListener("DOMContentLoaded", a, !1) : window.attachEvent && window.attachEvent("onload", a)
                    } ()
            },
            webutils.loadZopim = function() {
                window.$zopim ||
                function(a, b) {
                    var c = $zopim = function(a) {
                            c._.push(a)
                        },
                        d = c.s = a.createElement(b),
                        e = a.getElementsByTagName(b)[0];
                    c.set = function(a) {
                        c.set._.push(a)
                    },
                        c._ = [],
                        c.set._ = [],
                        d.async = !0,
                        d.setAttribute("charset", "utf-8"),
                        d.src = "//v2.zopim.com/?2IzC0iKrPAJDU0ejkB3oGifWkIspR69r",
                        c.t = +new Date,
                        d.type = "text/javascript",
                        e.parentNode.insertBefore(d, e)
                } (document, "script"),
                    $zopim(function() {
                        $zopim.livechat.hideAll(),
                            $zopim.livechat.setOnUnreadMsgs(function(a) {
                                a && $zopim.livechat.window.show()
                            })
                    })
            },
            webutils.isFieldValid = function(a) {
                var b = a.val(),
                    c = a.attr("type"),
                    d = a.attr("placeholder");
                return "text" === c && "" != b && b != d && webutils.utf8AlphaNum.test(b) || "email" === c && webutils.emailRegexp.test(b) || "select" === c && "-" !== b
            },
            webutils.isElementInViewport = function(b) {
                if (0 === b.length) return ! 1;
                var c = (webutils.isWebkit() ? "body": "html", window.pageYOffset),
                    d = c + a(window).height(),
                    e = Math.round(b.offset().top),
                    f = e + b.height();
                return e < d && f > c
            },
            webutils.isWebkit = function() {
                var a = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor),
                    b = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
                return a || b
            },
            webutils.getInternetExplorerVersion = function() {
                var a = -1;
                if ("Microsoft Internet Explorer" == navigator.appName) {
                    var b = navigator.userAgent,
                        c = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
                    null != c.exec(b) && (a = parseFloat(RegExp.$1))
                }
                return a
            },
            webutils.emailRegexp = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
            webutils.utf8AlphaNum = new RegExp("[]+"),
            webutils.identify().
            catch(function() {}).then(function() {
                setTimeout(webutils.setHomeCookie, 1e3),
                    webutils.showProactiveOffer(),
                    webutils.showI18nBanner(),
                    webutils.handleGdprRequirements()
            })
    } (jQuery),
    document.body.setAttribute("data-useragent", navigator.userAgent),
    webutils.processGA(),
    webutils.saveEloquaGuid();